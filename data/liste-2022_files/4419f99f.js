import{S as t,i as e,n as r,e as o,v as s,a,b as l,f as i,x as n,o as c,I as p,g as d,z as g,t as u,p as x,j as h,q as m,Q as f,T as I,c as y,d as b,H as v,m as $,l as k,U as C,k as E,r as T,M as L}from"./61b97c49.js";import{g as R,a as w}from"./63e54d4e.js";import{T as A}from"./92569f4a.js";function D(t){let e,r,s;return{c(){e=o("img"),this.h()},l(t){e=a(t,"IMG",{alt:!0,src:!0,loading:!0}),this.h()},h(){c(e,"alt",r=t[0].alt),L(e.src,s=t[0].src)||c(e,"src",s),c(e,"loading","lazy")},m(t,r){d(t,e,r)},p(t,o){1&o&&r!==(r=t[0].alt)&&c(e,"alt",r),1&o&&!L(e.src,s=t[0].src)&&c(e,"src",s)},d(t){t&&i(e)}}}function S(t){let e,r,s,l,n;return{c(){e=o("img"),this.h()},l(t){e=a(t,"IMG",{alt:!0,src:!0,loading:!0,srcset:!0,sizes:!0}),this.h()},h(){c(e,"alt",r=t[0].alt),L(e.src,s=t[0].src)||c(e,"src",s),c(e,"loading","lazy"),c(e,"srcset",l=t[5](t[0].src,t[0].sourceset)),c(e,"sizes",n=t[6](t[0].sourceset))},m(t,r){d(t,e,r)},p(t,o){1&o&&r!==(r=t[0].alt)&&c(e,"alt",r),1&o&&!L(e.src,s=t[0].src)&&c(e,"src",s),1&o&&l!==(l=t[5](t[0].src,t[0].sourceset))&&c(e,"srcset",l),1&o&&n!==(n=t[6](t[0].sourceset))&&c(e,"sizes",n)},d(t){t&&i(e)}}}function j(t){let e,r,s,n,g,x,m;function L(e){t[8](e)}let D={iconType:"SEARCH_PLUS",color:"white",disableToggleEvents:!0,text:t[0].copyright??R("image.detail"),type:t[0].tooltipInverted?"SECONDARY":"STANDARD"};return void 0!==t[3]&&(D.toggleTooltip=t[3]),r=new A({props:D}),f.push((()=>I(r,"toggleTooltip",L))),{c(){e=o("a"),y(r.$$.fragment),this.h()},l(t){e=a(t,"A",{href:!0,title:!0,target:!0,style:!0,class:!0});var o=l(e);b(r.$$.fragment,o),o.forEach(i),this.h()},h(){c(e,"href",n="/bild/"+t[0].bildId+("de"==w()?"":"?lang=en")),c(e,"title",R("image.lightboxlink.title")),c(e,"target","_blank"),v(e,"--background-color",t[2]),c(e,"class","svelte-41ke97"),p(e,"top","TOP"==t[0].tooltipOrientation),p(e,"circle",t[0].type&&"CIRCLE"==t[0].type)},m(o,s){d(o,e,s),$(r,e,null),g=!0,x||(m=[k(e,"mouseenter",t[9]),k(e,"focus",t[10]),k(e,"blur",t[11]),k(e,"mouseleave",t[12])],x=!0)},p(t,o){const a={};1&o&&(a.text=t[0].copyright??R("image.detail")),1&o&&(a.type=t[0].tooltipInverted?"SECONDARY":"STANDARD"),!s&&8&o&&(s=!0,a.toggleTooltip=t[3],C((()=>s=!1))),r.$set(a),(!g||1&o&&n!==(n="/bild/"+t[0].bildId+("de"==w()?"":"?lang=en")))&&c(e,"href",n),(!g||4&o)&&v(e,"--background-color",t[2]),(!g||1&o)&&p(e,"top","TOP"==t[0].tooltipOrientation),(!g||1&o)&&p(e,"circle",t[0].type&&"CIRCLE"==t[0].type)},i(t){g||(u(r.$$.fragment,t),g=!0)},o(t){h(r.$$.fragment,t),g=!1},d(t){t&&i(e),E(r),x=!1,T(m)}}}function z(t){let e,r,f,I,y,b;let v=function(t,e){return t[4]()?S:D}(t),$=v(t),k=t[0].bildId&&t[1]&&j(t);return{c(){e=o("div"),r=o("figure"),f=o("div"),I=o("picture"),$.c(),y=s(),k&&k.c(),this.h()},l(t){e=a(t,"DIV",{class:!0});var o=l(e);r=a(o,"FIGURE",{class:!0});var s=l(r);f=a(s,"DIV",{class:!0});var c=l(f);I=a(c,"PICTURE",{});var p=l(I);$.l(p),p.forEach(i),c.forEach(i),s.forEach(i),y=n(o),k&&k.l(o),o.forEach(i),this.h()},h(){c(f,"class","image-container svelte-41ke97"),p(f,"circle",t[0].type&&"CIRCLE"==t[0].type),c(r,"class","image"),c(e,"class","image-info-wrapper svelte-41ke97")},m(t,o){d(t,e,o),g(e,r),g(r,f),g(f,I),$.m(I,null),g(e,y),k&&k.m(e,null),b=!0},p(t,[r]){$.p(t,r),(!b||1&r)&&p(f,"circle",t[0].type&&"CIRCLE"==t[0].type),t[0].bildId&&t[1]?k?(k.p(t,r),3&r&&u(k,1)):(k=j(t),k.c(),u(k,1),k.m(e,null)):k&&(x(),h(k,1,1,(()=>{k=null})),m())},i(t){b||(u(k),b=!0)},o(t){h(k),b=!1},d(t){t&&i(e),$.d(),k&&k.d()}}}function M(t,e,r){let o,{data:s}=e,{renderLightboxLink:a=!0}=e,{infoIconBackgroundColor:l="#13294399"}=e;const i=t=>{t.relatedTarget!==document.querySelector(".tooltip")&&o(!1)};return t.$$set=t=>{"data"in t&&r(0,s=t.data),"renderLightboxLink"in t&&r(1,a=t.renderLightboxLink),"infoIconBackgroundColor"in t&&r(2,l=t.infoIconBackgroundColor)},[s,a,l,o,()=>s.sourceset&&s.src&&s.src.match(/.*_[0-9]{2,4}\..{3,4}$/),(t,e)=>e.map((e=>`${((t,e)=>t.replaceAll(/_[0-9]{2,4}\./g,`_${e}.`))(t,e.resolution)} ${e.resolution}w`)).join(", "),t=>t.map((t=>t.viewport?`(min-width: ${t.viewport}) ${t.resolution}px`:`${t.resolution}px`)).join(", "),i,function(t){o=t,r(3,o)},()=>o(!0),()=>o(!0),()=>o(!1),t=>i(t)]}class O extends t{constructor(t){super(),e(this,t,M,z,r,{data:0,renderLightboxLink:1,infoIconBackgroundColor:2})}}const _=()=>{let t=(new Date).getTime(),e=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(r=>{let o=16*Math.random();return t>0?(o=(t+o)%16|0,t=Math.floor(t/16)):(o=(e+o)%16|0,e=Math.floor(e/16)),("x"==r?o:7&o|8).toString(16)}))};export{O as I,_ as g};
