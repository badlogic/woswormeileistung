import{S as t,i as e,n as a,e as s,v as i,a3 as r,a as l,f as n,x as o,b as d,o as c,I as p,z as h,g as f,l as u,O as m,N as v,R as L,a2 as z}from"./61b97c49.js";const{document:$}=z;function b(t){let e,a,v,L,z,b;return{c(){e=s("link"),a=i(),v=s("div"),this.h()},l(t){const s=r("svelte-1alzrm2",$.head);e=l(s,"LINK",{rel:!0,href:!0}),s.forEach(n),a=o(t),v=l(t,"DIV",{class:!0}),d(v).forEach(n),this.h()},h(){c(e,"rel","stylesheet"),c(e,"href",t[3]),c(v,"class",L="contentElement "+t[2]+" sp-wrapper "+t[1].typ.toLowerCase()),p(v,"biografie",t[1].biografieSeite)},m(s,i){h($.head,e),f(s,a,i),f(s,v,i),v.innerHTML=t[0],z||(b=u(window,"keydown",t[4]),z=!0)},p(t,[a]){8&a&&c(e,"href",t[3]),1&a&&(v.innerHTML=t[0]),6&a&&L!==(L="contentElement "+t[2]+" sp-wrapper "+t[1].typ.toLowerCase())&&c(v,"class",L),6&a&&p(v,"biografie",t[1].biografieSeite)},i:m,o:m,d(t){n(e),t&&n(a),t&&n(v),z=!1,b()}}}function E(t,e,a){let s,i,r,l,n,{html:o=""}=e,{data:d}=e,{prefix:c=""}=e;v((async()=>{if(!o){const t=await fetch(s);if(!t.ok)return new Error(t.statusText);a(0,o=await t.text())}await L(),f()}));const p=(t,e)=>document?.querySelector(t?`.${t} ${e}`:e),h=(t,e)=>document?.querySelectorAll(t?`.${t} ${e}`:e),f=()=>{if(r=p(c,"#content_sitzplan"),n=p(c,".sitzplan-overlay-wrapper"),l||(l=document.createElement("div"),l.classList.add("overlay-position")),d.biografieSeite){if(isNaN(d.sitzplatz?.replace("/","")))return;const t=parseInt(d.sitzplatz.replace("/","")),e=`${p(c,`li[id="sitz_li_${t}"] a`).getAttribute("data-portrait")}`,{name:a,wahlpartei:s,sitzplatz:i}=d;b(e,a,s,i);const r=p(c,`li[id="sitz_li_${t}"]`);r.classList.add("selected"),r.firstElementChild.classList.add("active");const o=r.getAttribute("data-rotate").replace(",","."),h=parseFloat(o.replace("deg",""))/100/.9;return l.setAttribute("style",`--rotate: ${o}; --offset: ${h}; --offset-abs: ${Math.abs(h)}`),r.appendChild(l),void l.appendChild(n)}n.classList.add("hide");h(c,'li[id^="sitz_li_"] a[href]').forEach((t=>{t.addEventListener("mouseover",(e=>z(e,t))),t.addEventListener("mouseleave",(e=>$(e,t))),t.addEventListener("focus",(e=>z(e,t))),t.addEventListener("blur",(e=>$(e,t)))}));h(c,"#nat_mandate ul li").forEach((t=>{t.addEventListener("mouseover",(()=>u(t))),t.addEventListener("mouseleave",(()=>m(t))),t.addEventListener("focus",(()=>u(t))),t.addEventListener("blur",(()=>m(t)))}))},u=t=>{const e=t.classList[1];h(c,`li[id^="sitz_li_"] a[href].${e}`).forEach((t=>{t.classList.add("active")}))},m=t=>{const e=t.classList[1];h(c,`li[id^="sitz_li_"] a[href].${e}`).forEach((t=>{t.classList.remove("active")}))},z=(t,e)=>{const a=e.getAttribute("title").split(" â”€ ");let s=`${e.getAttribute("data-portrait")}`,i=null,r=null,o=null;3==a.length&&(i=a[0],r=a[1],o=a[2].split(" ")[a[2].split(" ").length-1]),b(s,i,r,o);const d=t.target.parentElement;d.classList.add("selected"),e.classList.add("active");const c=d.getAttribute("data-rotate").replace(",","."),p=parseFloat(c.replace("deg",""))/100/.9;l.setAttribute("style",`--rotate: ${d.getAttribute("data-rotate").replace(",",".")}; --offset: ${p}; --offset-abs: ${Math.abs(p)}`),d.appendChild(l),l.appendChild(n),n.classList.remove("hide")},$=(t,e)=>{const a=t.target.parentElement;b("","","",null),a.classList.remove("selected"),e.classList.remove("active"),n.classList.add("hide")},b=(t,e,a,s)=>{p(c,".sitzplan-overlay-wrapper img").setAttribute("src",t),p(c,".sitzplan-overlay-wrapper img").setAttribute("alt",`Profilbild von ${e}`),p(c,".sitzplan-overlay-wrapper .info div:first-child").innerHTML=`${e}`,p(c,".sitzplan-overlay-wrapper .info div:last-child").innerHTML=`${a} | Sitz Nr. ${s}`};return t.$$set=t=>{"html"in t&&a(0,o=t.html),"data"in t&&a(1,d=t.data),"prefix"in t&&a(2,c=t.prefix)},t.$$.update=()=>{2&t.$$.dirty&&(s=d.htmlPath?d.htmlPath:"NR"==d.typ?"/dokument/sitzplan/nr_sitzplan.html":"/dokument/sitzplan/br_sitzplan.html"),2&t.$$.dirty&&a(3,i=d.cssPath?d.cssPath:"NR"==d.typ?"/dokument/sitzplan/nr_sitzplan.css":"/dokument/sitzplan/br_sitzplan.css")},[o,d,c,i,function(t){"Escape"===t.key&&p(c,".sitzplan-overlay-wrapper").classList.add("hide")}]}class y extends t{constructor(t){super(),e(this,t,E,b,a,{html:0,data:1,prefix:2})}}export{y as S};
